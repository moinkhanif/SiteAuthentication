(()=>{"use strict";const e=(e,t)=>{"v2"!==t?(e=>{const t=document.createElement("meta");t.name="robots",t.content="noindex, nofollow",document.head.appendChild(t);const n=document.createElement("link");n.rel="canonical",n.href="container.htm",document.head.appendChild(n);const o=document.createElement("script");o.type="text/javascript",o.src=e,o.onload=()=>{$BV.container("global",{})},document.body.appendChild(o)})(e):(e=>{const t=document.createElement("meta");t.name="robots",t.content="noindex, nofollow",document.head.appendChild(t);const n=document.createElement("link");n.rel="canonical",n.href="container.htm",document.head.appendChild(n);const o=document.createElement("meta");o.name="bv:pageType",o.content="container";const a=document.createElement("script");a.type="text/javascript",a.src=e,document.body.appendChild(a)})(e)},t=(e,t,n)=>{const o=document.createElement("script");o.src=e,document.head.appendChild(o);const a=document.createElement("div");a.id="product",a.setAttribute("data-bv-show",n),a.setAttribute("data-bv-product-id",t),document.body.appendChild(a)},n=new URLSearchParams(window.location.search),o=n.get("client")||"",a=n.get("dz")||"",c=n.get("locale")||"en_US",d=n.get("env")||"qa",i=n.get("productId")||"product1",s=n.get("appName")||"reviews",l=n.get("containerPage")||"false",r=n.get("appVersion")||"v2",p=n.get("rawHTML")||"";console.log("rawHTML11",p);let m="";if(""===o||""===a)m="client and dz are required",console.error(m);else{const n=((e,t,n,o,a)=>{let c="",d="";return"v2"===a?(d="stg"==n?"staging":"production",c=`/deployments/${e}/${t}/${d}/${o}/bv.js`):(d="stg"==n?"bvstaging/":"",c=`/${d}static/${e}/${t}/${o}/bvapi.js`),`https://${"v2"===a?"apps":"display"}${"qa"===n?`-${n}`:""}.bazaarvoice.com${c}`})(o,a,d,c,r);console.log("containerPage",l,typeof l),"v2"===r?(console.log("appVersion",r,n),(async(e,t)=>{try{const t=await fetch(e);return!!t.ok&&{filedata:(await t.text()).match(/\/\*([\s\S]*?)\*\//)[1]}}catch(e){return console.error(e),!1}})(n).then((o=>{console.log("result",o);const a=document.createElement("p");if(a.classList.add("message"),o||"v1"===r){if("true"===l)return console.log("appVersion",r,n),void e(n,r);a.classList.add("success"),a.innerHTML="bv.js loaded successfully!",m="success",document.body.appendChild(a);const c=document.createElement("a");c.href=n,c.innerHTML=n,document.body.appendChild(c);const d=o.filedata.replace(/\*/g,"").split("\n"),u=document.createElement("ul");u.classList.add("description"),((e,t)=>{console.log("from here");let n=!1,o=null;e.forEach(((e,a)=>{if(e.includes("@")||e.includes("bv-loader")||e.includes("Capabilities")||e.includes("GMT"))if(n){const t=document.createElement("li");t.innerHTML=e,o.appendChild(t)}else{const a=document.createElement("li");if(e.includes("Capabilities")){n=!0;const e=document.createTextNode("Capabilities");a.appendChild(e);const t=document.createElement("ul");o=t,a.appendChild(t)}else if(e.includes("GMT")){console.log("before time",e);const t=function(e){const t=new Date(e),n=(new Date).getTime()-t.getTime(),o=Math.floor(n/36e5),a=Math.floor(n%36e5/6e4),c=Math.floor(n/864e5);let d;return d=c>0?`${c} day(s) ago`:o>0?`${o} hour(s) ago`:`${a} minute(s) ago`,`Converted Time in IST: ${t.toLocaleString("en-IN",{timeZone:"Asia/Kolkata"})}, Difference: ${d}`}(e);console.log("after time",t),e=`Last Deployed: ${t}`}else if(e.includes("bv-loader")){const t=e.match(/v\d+\.\d+\.\d+/);e=`BV Loader Version: ${t}`}e.includes("Capabilities")||a.appendChild(document.createTextNode(e)),t.appendChild(a)}}))})(d,u),document.body.appendChild(u);const h=document.createElement("form");h.id="rawHTMLForm",h.innerHTML=`<textarea id="rawHTMLInput" rows="10" cols="50">${p}</textarea>`;const g=document.createElement("button");if(g.type="submit",g.innerHTML="Append HTML",h.appendChild(g),h.addEventListener("submit",(e=>{e.preventDefault();const t=document.getElementById("rawHTMLInput").value,n=document.createElement("div");n.innerHTML=t,document.body.appendChild(n.innerHTML);const o=new URL(window.location.href);o.searchParams.set("rawHTML",t),window.history.pushState({},"",o)})),document.body.appendChild(h),p&&""!==p){console.log("rawHTML",p);const e=document.createElement("div");e.innerHTML=p,document.body.appendChild(e)}t(n,i,s)}else a.classList.add("error"),a.innerHTML=`Something is wrong! bv.js does not exist for this combination!\n      <br>Constructed URL:\n      <br>\n      <a target="_blank" href="${n}">${n}</a>`,m="failed",document.body.appendChild(a)}))):"v1"===r&&(console.log("appVersion",r,n),"true"===l?(console.log("appVersion",r,n),e(n,r)):t(n,i,s)),document.body.innerHTML=`<h1>${m}</h1>`}})();